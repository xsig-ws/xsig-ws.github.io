!function a(i,s,u){function c(r,e){if(!s[r]){if(!i[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(g)return g(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[r]={exports:{}};i[r][0].call(o.exports,function(e){var t=i[r][1][e];return c(t||e)},o,o.exports,a,i,s,u)}return s[r].exports}for(var g="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,r){"use strict";r.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.getSettings=function(e){return e=function(e){switch(void 0===e?"undefined":n(e)){case"function":return e.name;case"string":return e;case"object":return e.constructor.name}return""}(e),void 0!==window["mlp"+e+"Settings"]?window["mlp"+e+"Settings"]:void 0!==window[e]?window[e]:{}}},{}],2:[function(e,t,r){"use strict";r.__esModule=!0;r.addEventListener=function(e,t,r){e.addEventListener?e.addEventListener(t,r):e.attachEvent("on"+t,function(){r.call(e)})},r.reloadLocation=function(){window.location.reload(!0)},r.setLocation=function(e){window.location.href=e}},{}],3:[function(e,t,r){"use strict";var n,o=s(e("./common/functions")),a=s(e("./common/utils")),i=e("./redirect/Redirector");function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}new((n=i)&&n.__esModule?n:{default:n}).default(o.getSettings("Redirector"),a).initialize()},{"./common/functions":1,"./common/utils":2,"./redirect/Redirector":4}],4:[function(e,t,r){"use strict";r.__esModule=!0;var f={},n=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),f.settings=e,f.storageName="mlpNoredirectStorage",f.storageTimestampName="mlpNoredirectStorageTimestamp",f.userLanguages=navigator.languages||[],f.Util=t}return r.prototype.initialize=function(){if(this.startTimestampUpdate(),!this.isCurrentLanguageStored()){var e=this.getNoredirectLanguage();if(e)this.storeLanguage(e);else{var t=this.findContentLanguage();t&&this.redirect(t)}}},r.prototype.checkTimestamp=function(){var e=Number(localStorage.getItem(f.storageTimestampName));return Date.now()<=e+Number(f.settings.storageLifetime)},r.prototype.findContentLanguage=function(){if(f.userLanguages.length&&Object.keys(f.settings.urls).length){var e=void 0,t=f.userLanguages,r=Array.isArray(t),n=0;for(t=r?t:t[Symbol.iterator]();;){var o;if(r){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var a=o;if(e=this.matchLanguage(a))return e}var i=this.getAdditionalUserLanguages(),s=Array.isArray(i),u=0;for(i=s?i:i[Symbol.iterator]();;){var c;if(s){if(u>=i.length)break;c=i[u++]}else{if((u=i.next()).done)break;c=u.value}var g=c;if(e=this.matchLanguage(g))return e}}return""},r.prototype.getAdditionalUserLanguages=function(){var n=f.userLanguages;return n.reduce(function(e,t){var r=t.indexOf("-");return 0<r&&(t=t.substr(0,r),n.includes(t)||e.push(t)),e},[])},r.prototype.getNoredirectLanguage=function(){var e=new RegExp("[\\?&]"+f.settings.noredirectKey+"=([^?&#]*)").exec(window.location.href);return e?decodeURIComponent(e[1].replace(/\+/g," ")):""},r.prototype.getStoredLanguages=function(){if(!this.checkTimestamp())return localStorage.removeItem(f.storageName),[];var e=localStorage.getItem(f.storageName);return e?e.split(" "):[]},r.prototype.isCurrentLanguageStored=function(){return this.getStoredLanguages().includes(this.normalizeLanguage(f.settings.currentLanguage))},r.prototype.matchLanguage=function(e){if(f.settings.urls[e])return e;if(-1===e.indexOf("-")){var t=e+"-",r=Object.keys(f.settings.urls),n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var i=a;if(i.startsWith(t))return i}}return""},r.prototype.normalizeLanguage=function(e){return e.replace(/-/,"_")},r.prototype.redirect=function(e){if(this.storeLanguage(e),e!==f.settings.currentLanguage){var t=f.settings.urls[e].replace(/\?.*$/,"");f.Util.setLocation(t+"?"+f.settings.noredirectKey+"="+this.normalizeLanguage(e))}},r.prototype.startTimestampUpdate=function(){var e=Number(f.settings.updateTimestampInterval);if(0<e){var t=function(){return localStorage.setItem(f.storageTimestampName,Date.now())};t(),setInterval(t,e)}},r.prototype.storeLanguage=function(e){e=this.normalizeLanguage(e);var t=this.getStoredLanguages();t.includes(e)||(t.push(e),localStorage.setItem(f.storageName,t.join(" ")))},r}();r.default=n},{}]},{},[3]);